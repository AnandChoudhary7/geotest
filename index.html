<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Get User Location</title>
    <link rel="stylesheet" href="home.css">
</head>

<body onload="getLocation()">
    <img alt="bd" id="img" src="birthday.png">
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script>
        function getLocation() {
            Swal.fire({
                title: 'Switch on location to see the image',
                showDenyButton: false,
                showCancelButton: false,
                confirmButtonText: 'Switch On',
                allowOutsideClick: false,
                width:'90%',
                height:'90%'
            }).then((result) => {
                if (result.isConfirmed) {
                    if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(showPosition, showError);
                    }else{
                        alert("no");
                    }
                } else if (result.isDenied) {
                    getLocation();
                }
            })

        }

        function showPosition(position) {
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;
            document.getElementById("img").style.opacity=1;
            alert(latitude+" "+longitude);
        }

        function showError() {
            getLocation();
        }
    </script>
</body>

</html>